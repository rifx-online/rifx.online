---
title: "如何使用 CrewAI 和 Gemini Pro 创建 AI 团队来撰写引人入胜的故事"
meta_title: "如何使用 CrewAI 和 Gemini Pro 创建 AI 团队来撰写引人入胜的故事"
description: "您是否对人工智能生成引人入胜的故事的想法着迷？如果是这样，您并不孤单！在本文中，我们将深入探讨……"
date: 2024-10-31T23:04:49Z
image: "https://images.weserv.nl/?url=https://cdn-images-1.readmedium.com/v2/resize:fit:800/0*tSnoOxxIGtrwdUT8"
categories: ["Programming", "Natural Language Processing", "Generative AI"]
author: "Rifx.Online"
tags: ["CrewAI", "Gemini", "screenwriters", "critics", "storytelling"]
draft: False

---



你是否对AI生成引人入胜的故事这一想法感到着迷？如果是这样，你并不孤单！在本文中，我们将深入探讨一个结合CrewAI和Gemini Pro力量的入门项目，创建一个代理网络，通过用户输入的帮助来创作短篇故事。无论你是一个初出茅庐的程序员，一个希望探索数字前沿的讲故事者，还是仅仅对人工智能的潜力感到好奇，这本指南都适合你。

## CrewAI 和 Gemini Pro 是什么？

在我们深入探讨构建 AI 讲故事者的细节之前，先来澄清一下 CrewAI 和 Gemini Pro 的概念。

**CrewAI** 是一个引人入胜的框架，旨在协调多个 AI 代理，每个代理都有其独特的技能和职责，以协作完成复杂任务。可以把它想象成一个导演管理一组演员，每个演员扮演特定角色来让故事生动起来。在我们项目的背景下，CrewAI 使我们能够创建一支由专业代理（如编剧、评论家和故事大师）组成的团队，共同撰写故事。

**Gemini Pro**，另一方面，是由 Google 开发的最先进的语言模型。它以理解和生成类人文本的能力而闻名，使其成为故事创作等创意任务的理想选择。通过利用 Gemini Pro，我们可以确保我们的代理具备生成引人入胜的叙事内容的坚实基础。

## 为什么这种结构很重要？

CrewAI 和 Gemini Pro 的结合使得故事生成能够采用高度协作和专业化的方法。这个结构允许：

1. **专业化**：每个代理可以专注于它最擅长的领域，无论是撰写对话、确保一致性还是监督项目。
2. **协作**：代理可以共同工作，结合各自的优势，产生一个超越其部分总和的故事。
3. **灵活性**：该设置具有高度适应性，可以根据用户输入或创意方向强调或改变不同的故事元素。

## 设置环境

首先，我们需要一些库来使用。您可以通过 pip 加载这些库：

```python
pip install crewai
```

```python
pip install langchain-google-genai
```

加载必要的库后，我们可以开始编码。我们将首先导入所需的模块并初始化我们的 Gemini pro API 连接。

如您所见，我们需要一个 Gemini 模型的 API 密钥。您可以在 Google AI Studio 中[免费](https://ai.google.dev/)创建此密钥。之后，您可以将此密钥复制到 google\_api\_key 变量中，或者通过在命令行中运行以下命令将其加载到环境中：

```python
export GOOGLE_API_KEY=YOUR_KEY
```

将您从 Google AI Studio 获取的 API 密钥替换为 YOUR\_KEY。

接下来，我们定义我们的代理：编剧、评论家和故事大师。每个代理都有一个角色、目标和背景故事，以指导其在故事生成过程中的贡献。

例如，编剧专注于将创意转化为引人入胜的场景，而评论家确保一致性和遵循类型。

这些代理将共同工作，创造一个引人入胜的故事。故事大师将接受任务，然后在其他代理之间委派和协调任务。我们通过将 allow\_delegation 参数设置为 True 来允许这种行为。

准备好代理后，我们提示用户提供一个故事创意。然后，这个输入用于创建一个任务，概述故事应包含的内容，引导代理进行创作过程。

在创建任务时，我们将任务提交给故事大师，因为它将协调我们的故事创作过程。

最后，我们应该将这些代理组合成一个团队并运行我们的任务。

就这样。当我们运行这段代码时，它会提示用户提供一个故事创意，然后通过代理合作写一个短故事。当然，在 CrewAI 框架中还有更多内容，例如工具使用、层次处理、与 ollama 一起完全本地运行不同代理等，但这些主题是另一个文章的内容。

您可以在这里找到完整的代码以直接运行：

您可以将此代码用作此类应用程序的模板，您可以构建游戏构建者团队、股票分析师团队、营销团队等。凭借想象力，天空才是极限。如果您喜欢这篇文章并对更高级的实现感到兴奋，可以访问 CrewAI [网站](https://www.crewai.com/)。


